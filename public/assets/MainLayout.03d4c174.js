import{u as le,Q as A,a as U,b as ae,c as ie,d as re,e as se,f as ue,C as ce}from"./addEditData.6282d2fb.js";import{r as p,i as Z,o as Q,c as q,a as H,n as ee,b as W,h as y,g as P,l as F,d as te,e as T,f as v,w as C,j as de,k as I,p as oe,m as fe,q as ve,s as he,t as me,u as ge,v as ye,x as B,y as R,z as pe,A as be,B as we,C as xe,D as ze,E as Se,F as j,G as K,H as x,I as h,J as G,K as N,L as Ce,M as J,Q as k,N as Le,O as Te,P as _e}from"./index.d3afd964.js";function $e(){const e=p(!Z.value);return e.value===!1&&Q(()=>{e.value=!0}),{isHydrated:e}}const ne=typeof ResizeObserver!="undefined",X=ne===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var D=q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:m}){let o=null,t,n={width:-1,height:-1};function r(u){u===!0||e.debounce===0||e.debounce==="0"?s():o===null&&(o=setTimeout(s,e.debounce))}function s(){if(o!==null&&(clearTimeout(o),o=null),t){const{offsetWidth:u,offsetHeight:a}=t;(u!==n.width||a!==n.height)&&(n={width:u,height:a},m("resize",n))}}const{proxy:d}=P();if(d.trigger=r,ne===!0){let u;const a=g=>{t=d.$el.parentNode,t?(u=new ResizeObserver(r),u.observe(t),s()):g!==!0&&W(()=>{a(!0)})};return Q(()=>{a()}),H(()=>{o!==null&&clearTimeout(o),u!==void 0&&(u.disconnect!==void 0?u.disconnect():t&&u.unobserve(t))}),ee}else{let g=function(){o!==null&&(clearTimeout(o),o=null),a!==void 0&&(a.removeEventListener!==void 0&&a.removeEventListener("resize",r,F.passive),a=void 0)},b=function(){g(),t&&t.contentDocument&&(a=t.contentDocument.defaultView,a.addEventListener("resize",r,F.passive),s())};const{isHydrated:u}=$e();let a;return Q(()=>{W(()=>{t=d.$el,t&&b()})}),H(g),()=>{if(u.value===!0)return y("object",{class:"q--avoid-card-border",style:X.style,tabindex:-1,type:"text/html",data:X.url,"aria-hidden":"true",onLoad:b})}}}}),Qe=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:o}){const{proxy:{$q:t}}=P(),n=te(I,T);if(n===T)return console.error("QHeader needs to be child of QLayout"),T;const r=p(parseInt(e.heightHint,10)),s=p(!0),d=v(()=>e.reveal===!0||n.view.value.indexOf("H")!==-1||t.platform.is.ios&&n.isContainer.value===!0),u=v(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return s.value===!0?r.value:0;const l=r.value-n.scroll.value.position;return l>0?l:0}),a=v(()=>e.modelValue!==!0||d.value===!0&&s.value!==!0),g=v(()=>e.modelValue===!0&&a.value===!0&&e.reveal===!0),b=v(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(a.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=v(()=>{const l=n.rows.value.top,w={};return l[0]==="l"&&n.left.space===!0&&(w[t.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),l[2]==="r"&&n.right.space===!0&&(w[t.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),w});function c(l,w){n.update("header",l,w)}function z(l,w){l.value!==w&&(l.value=w)}function V({height:l}){z(r,l),c("size",l)}function O(l){g.value===!0&&z(s,!0),o("focusin",l)}C(()=>e.modelValue,l=>{c("space",l),z(s,!0),n.animate()}),C(u,l=>{c("offset",l)}),C(()=>e.reveal,l=>{l===!1&&z(s,e.modelValue)}),C(s,l=>{n.animate(),o("reveal",l)}),C(n.scroll,l=>{e.reveal===!0&&z(s,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const _={};return n.instances.header=_,e.modelValue===!0&&c("size",r.value),c("space",e.modelValue),c("offset",u.value),H(()=>{n.instances.header===_&&(n.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const l=de(m.default,[]);return e.elevated===!0&&l.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(y(D,{debounce:0,onResize:V})),y("header",{class:b.value,style:S.value,onFocusin:O},l)}}}),qe=q({name:"QPageContainer",setup(e,{slots:m}){const{proxy:{$q:o}}=P(),t=te(I,T);if(t===T)return console.error("QPageContainer needs to be child of QLayout"),T;oe(ve,!0);const n=v(()=>{const r={};return t.header.space===!0&&(r.paddingTop=`${t.header.size}px`),t.right.space===!0&&(r[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(r.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(r[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),r});return()=>y("div",{class:"q-page-container",style:n.value},fe(m.default))}});const{passive:Y}=F,Pe=["both","horizontal","vertical"];var Re=q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Pe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:he},emits:["scroll"],setup(e,{emit:m}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,n,r;C(()=>e.scrollTarget,()=>{u(),d()});function s(){t!==null&&t();const b=Math.max(0,ge(n)),S=ye(n),c={top:b-o.position.top,left:S-o.position.left};if(e.axis==="vertical"&&c.top===0||e.axis==="horizontal"&&c.left===0)return;const z=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";o.position={top:b,left:S},o.directionChanged=o.direction!==z,o.delta=c,o.directionChanged===!0&&(o.direction=z,o.inflectionPoint=o.position),m("scroll",{...o})}function d(){n=me(r,e.scrollTarget),n.addEventListener("scroll",a,Y),a(!0)}function u(){n!==void 0&&(n.removeEventListener("scroll",a,Y),n=void 0)}function a(b){if(b===!0||e.debounce===0||e.debounce==="0")s();else if(t===null){const[S,c]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];t=()=>{c(S),t=null}}}const{proxy:g}=P();return C(()=>g.$q.lang.rtl,s),Q(()=>{r=g.$el.parentNode,d()}),H(()=>{t!==null&&t(),u()}),Object.assign(g,{trigger:a,getPosition:()=>o}),ee}}),He=q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:m,emit:o}){const{proxy:{$q:t}}=P(),n=p(null),r=p(t.screen.height),s=p(e.container===!0?0:t.screen.width),d=p({position:0,direction:"down",inflectionPoint:0}),u=p(0),a=p(Z.value===!0?0:B()),g=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=v(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),S=v(()=>a.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),c=v(()=>a.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function z(i){if(e.container===!0||document.qScrollPrevented!==!0){const f={position:i.position.top,direction:i.direction,directionChanged:i.directionChanged,inflectionPoint:i.inflectionPoint.top,delta:i.delta.top};d.value=f,e.onScroll!==void 0&&o("scroll",f)}}function V(i){const{height:f,width:L}=i;let $=!1;r.value!==f&&($=!0,r.value=f,e.onScrollHeight!==void 0&&o("scrollHeight",f),_()),s.value!==L&&($=!0,s.value=L),$===!0&&e.onResize!==void 0&&o("resize",i)}function O({height:i}){u.value!==i&&(u.value=i,_())}function _(){if(e.container===!0){const i=r.value>u.value?B():0;a.value!==i&&(a.value=i)}}let l=null;const w={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:n,height:r,containerHeight:u,scrollbarWidth:a,totalWidth:v(()=>s.value+a.value),rows:v(()=>{const i=e.view.toLowerCase().split(" ");return{top:i[0].split(""),middle:i[1].split(""),bottom:i[2].split("")}}),header:R({size:0,offset:0,space:!1}),right:R({size:300,offset:0,space:!1}),footer:R({size:0,offset:0,space:!1}),left:R({size:300,offset:0,space:!1}),scroll:d,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(i,f,L){w[i][f]=L}};if(oe(I,w),B()>0){let L=function(){i=null,f.classList.remove("hide-scrollbar")},$=function(){if(i===null){if(f.scrollHeight>t.screen.height)return;f.classList.add("hide-scrollbar")}else clearTimeout(i);i=setTimeout(L,300)},E=function(M){i!==null&&M==="remove"&&(clearTimeout(i),L()),window[`${M}EventListener`]("resize",$)},i=null;const f=document.body;C(()=>e.container!==!0?"add":"remove",E),e.container!==!0&&E("add"),pe(()=>{E("remove")})}return()=>{const i=be(m.default,[y(Re,{onScroll:z}),y(D,{onResize:V})]),f=y("div",{class:g.value,style:b.value,ref:e.container===!0?void 0:n,tabindex:-1},i);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:n},[y(D,{onResize:O}),y("div",{class:"absolute-full",style:S.value},[y("div",{class:"scroll",style:c.value},[f])])]):f}}});const Ve={class:"q-pr-md row",style:{width:"min(500px, 100vw)"}},Oe={class:"flex flex-center max-dialog-bg"},Ne={__name:"MainLayout",setup(e){we(),xe();const m=le(),o=p(!1);p(!1);const t=p(!1);m.platform.is.bex||(document.body.style.height="",document.body.style.width=""),Q(()=>{var r=new URLSearchParams(window.location.search);r.get("register")=="bex"&&(ze.value="register"),m.dark.set(!0);const s=document.getElementById("loader-wrapper");s.style.display="none"});async function n(){o.value=!0,ue.value.forEach(r=>{localStorage.removeItem(`document/${r.id}`)}),localStorage.removeItem("documents"),await _e.post("logout"),J.value=!1,o.value=!1,t.value=!1,localStorage.removeItem("token")}return(r,s)=>{const d=Se("router-view");return j(),K(He,{view:"lHh Lpr lFf"},{default:x(()=>[h(Qe,{class:"non-selectable"},{default:x(()=>[h(A,{class:"row justify-center"},{default:x(()=>[G("div",Ve,[h(U,{class:"",style:{cursor:"default"}},{default:x(()=>[N(" SIRUK STORAGE ")]),_:1}),Ce(J)?(j(),K(k,{key:0,flat:"",dense:"",round:"",icon:"mdi-logout",onClick:s[0]||(s[0]=u=>t.value=!0)})):Le("",!0)])]),_:1})]),_:1}),h(qe,null,{default:x(()=>[h(d),h(ae,{"transition-duration":"0",seamless:"",maximized:"",modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=u=>t.value=u)},{default:x(()=>[G("div",Oe,[h(ie,{style:{"min-width":"300px","margin-top":"-200px"}},{default:x(()=>[h(A,{class:"bg-primary text-white"},{default:x(()=>[h(U,null,{default:x(()=>[N(" CONFIRM LOGOUT ")]),_:1})]),_:1}),h(re,null,{default:x(()=>[N(" Are you sure you want to log out? ")]),_:1}),h(se,{align:"right"},{default:x(()=>[Te(h(k,{flat:"",dense:"",label:"cancel"},null,512),[[ce]]),h(k,{loading:o.value,color:"primary",label:"Confirm",onClick:n},null,8,["loading"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};export{Ne as default};
